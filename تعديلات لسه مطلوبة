ğŸ“‹ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© Ù„Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù†Ø§Ù‚ØµØ©
1. ğŸ”§ Ø¥ÙƒÙ…Ø§Ù„ Ø¯Ø§Ù„Ø© addTimeSlots()
Ø§Ù„Ù…Ù„Ù: admin-dashboard.js Ùˆ owner-dashboard.js
Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ (ØºÙŠØ± Ù…ÙƒØªÙ…Ù„):

javascript
async function addTimeSlots() {
    adminSystem.showAlert('Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø§ØµÙŠØ© Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±', 'info');
}
Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:

javascript
async function addTimeSlots() {
    const stadiumId = document.getElementById('stadiumSelect').value;
    const date = document.getElementById('slotDate').value;
    const startTime = document.getElementById('startTime').value;
    const endTime = document.getElementById('endTime').value;
    
    if (!stadiumId || !date || !startTime || !endTime) {
        adminSystem.showAlert('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„', 'warning');
        return;
    }

    try {
        const response = await fetch('/api/time-slots/batch', {
            method: 'POST',
            headers: adminSystem.getAuthHeaders(),
            body: JSON.stringify({
                stadium_id: parseInt(stadiumId),
                date: date,
                start_time: startTime,
                end_time: endTime,
                price: 200, // Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø£Ùˆ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù„Ø¹Ø¨
                interval: 60 // Ø¯Ù‚Ø§Ø¦Ù‚ Ø¨ÙŠÙ† ÙƒÙ„ ÙØªØ±Ø©
            })
        });

        if (response.ok) {
            const result = await response.json();
            adminSystem.showAlert(`âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© ${result.added_slots} Ø³Ø§Ø¹Ø© Ø¨Ù†Ø¬Ø§Ø­`, 'success');
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            await adminSystem.loadTimeSlots(stadiumId, date);
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ù‚ÙˆÙ„
            document.getElementById('startTime').value = '08:00';
            document.getElementById('endTime').value = '22:00';
        } else {
            const error = await response.json();
            adminSystem.showAlert(`âŒ ${error.message || 'ÙØ´Ù„ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø§Ø¹Ø§Øª'}`, 'danger');
        }
    } catch (error) {
        console.error('Error adding time slots:', error);
        adminSystem.showAlert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…', 'danger');
    }
}
2. ğŸ”§ Ø¥ÙƒÙ…Ø§Ù„ Ø¯Ø§Ù„Ø© generateReport()
Ø§Ù„Ù…Ù„Ù: admin-dashboard.js
Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:

javascript
async function generateReport() {
    try {
        // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
        const reportType = prompt('Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ±:\n1. ØªÙ‚Ø±ÙŠØ± Ø´Ù‡Ø±ÙŠ\n2. ØªÙ‚Ø±ÙŠØ± Ø±Ø¨Ø¹ Ø³Ù†ÙˆÙŠ\n3. ØªÙ‚Ø±ÙŠØ± Ø³Ù†ÙˆÙŠ', '1');
        
        let period = '';
        switch(reportType) {
            case '1': period = 'monthly'; break;
            case '2': period = 'quarterly'; break;
            case '3': period = 'yearly'; break;
            default: return;
        }

        adminSystem.showLoading('reports', 'Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±...');

        const response = await fetch('/api/admin-reports/generate', {
            method: 'POST',
            headers: adminSystem.getAuthHeaders(),
            body: JSON.stringify({
                report_type: period,
                start_date: new Date(new Date().getFullYear(), new Date().getMonth(), 1).toISOString().split('T')[0],
                end_date: new Date().toISOString().split('T')[0],
                include_charts: true,
                format: 'pdf'
            })
        });

        if (response.ok) {
            const result = await response.json();
            
            // Ø¹Ø±Ø¶ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±
            const reportPreview = `
                <div class="alert alert-success">
                    <h5>âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­</h5>
                    <p><strong>Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ±:</strong> ${period === 'monthly' ? 'Ø´Ù‡Ø±ÙŠ' : period === 'quarterly' ? 'Ø±Ø¨Ø¹ Ø³Ù†ÙˆÙŠ' : 'Ø³Ù†ÙˆÙŠ'}</p>
                    <p><strong>Ø§Ù„ÙØªØ±Ø©:</strong> ${result.period_start} Ø¥Ù„Ù‰ ${result.period_end}</p>
                    <p><strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª:</strong> ${result.total_revenue} Ø¬.Ù…</p>
                    <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª:</strong> ${result.total_bookings}</p>
                    <div class="mt-3">
                        <button class="btn btn-primary me-2" onclick="downloadReport(${result.report_id}, 'pdf')">
                            <i class="bi bi-download me-1"></i>ØªØ­Ù…ÙŠÙ„ PDF
                        </button>
                        <button class="btn btn-success" onclick="downloadReport(${result.report_id}, 'excel')">
                            <i class="bi bi-file-excel me-1"></i>ØªØ­Ù…ÙŠÙ„ Excel
                        </button>
                    </div>
                </div>
            `;
            
            document.getElementById('reports').innerHTML = reportPreview;
        } else {
            throw new Error('Failed to generate report');
        }
    } catch (error) {
        console.error('Error generating report:', error);
        adminSystem.showAlert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±', 'danger');
    }
}

// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
async function downloadReport(reportId, format) {
    try {
        const response = await fetch(`/api/admin-reports/${reportId}/download?format=${format}`, {
            headers: adminSystem.getAuthHeaders()
        });

        if (response.ok) {
            const blob = await response.blob();
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `report-${reportId}.${format}`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            adminSystem.showAlert('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­', 'success');
        } else {
            throw new Error('Failed to download report');
        }
    } catch (error) {
        console.error('Error downloading report:', error);
        adminSystem.showAlert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚Ø±ÙŠØ±', 'danger');
    }
}
3. ğŸ”§ Ø¥ÙƒÙ…Ø§Ù„ Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØµØ¯ÙŠØ± exportToPDF() Ùˆ exportToExcel()
Ø§Ù„Ù…Ù„Ù: admin-dashboard.js Ùˆ owner-dashboard.js
Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:

javascript
async function exportToPDF() {
    try {
        const currentTab = document.querySelector('.tab-pane.active').id;
        let endpoint = '';
        let filename = '';

        switch(currentTab) {
            case 'reports':
                endpoint = '/api/export/reports/pdf';
                filename = `reports-${new Date().toISOString().split('T')[0]}.pdf`;
                break;
            case 'bookings':
                endpoint = '/api/export/bookings/pdf';
                filename = `bookings-${new Date().toISOString().split('T')[0]}.pdf`;
                break;
            case 'payments':
                endpoint = '/api/export/payments/pdf';
                filename = `payments-${new Date().toISOString().split('T')[0]}.pdf`;
                break;
            default:
                endpoint = '/api/export/dashboard/pdf';
                filename = `dashboard-${new Date().toISOString().split('T')[0]}.pdf`;
        }

        adminSystem.showAlert('Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± Ø§Ù„Ù…Ù„Ù...', 'info');

        const response = await fetch(endpoint, {
            headers: adminSystem.getAuthHeaders()
        });

        if (response.ok) {
            const blob = await response.blob();
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            adminSystem.showAlert('âœ… ØªÙ… ØªØµØ¯ÙŠØ± PDF Ø¨Ù†Ø¬Ø§Ø­', 'success');
        } else {
            throw new Error('Failed to export PDF');
        }
    } catch (error) {
        console.error('Error exporting PDF:', error);
        adminSystem.showAlert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØµØ¯ÙŠØ± PDF', 'danger');
    }
}

async function exportToExcel() {
    try {
        const currentTab = document.querySelector('.tab-pane.active').id;
        let data = [];
        let filename = '';

        switch(currentTab) {
            case 'bookings':
                data = adminSystem.allBookings;
                filename = `bookings-${new Date().toISOString().split('T')[0]}.xlsx`;
                break;
            case 'payments':
                data = adminSystem.allPayments;
                filename = `payments-${new Date().toISOString().split('T')[0]}.xlsx`;
                break;
            case 'users':
                data = adminSystem.allUsers;
                filename = `users-${new Date().toISOString().split('T')[0]}.xlsx`;
                break;
            default:
                data = [
                    ...adminSystem.allBookings,
                    ...adminSystem.allPayments,
                    ...adminSystem.allUsers
                ];
                filename = `export-${new Date().toISOString().split('T')[0]}.xlsx`;
        }

        adminSystem.showAlert('Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± Ø§Ù„Ù…Ù„Ù...', 'info');

        const response = await fetch('/api/export/excel', {
            method: 'POST',
            headers: adminSystem.getAuthHeaders(),
            body: JSON.stringify({
                data: data,
                filename: filename,
                sheet_name: currentTab
            })
        });

        if (response.ok) {
            const blob = await response.blob();
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            adminSystem.showAlert('âœ… ØªÙ… ØªØµØ¯ÙŠØ± Excel Ø¨Ù†Ø¬Ø§Ø­', 'success');
        } else {
            throw new Error('Failed to export Excel');
        }
    } catch (error) {
        console.error('Error exporting Excel:', error);
        adminSystem.showAlert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØµØ¯ÙŠØ± Excel', 'danger');
    }
}
4. ğŸ› ï¸ ØªØ­Ø³ÙŠÙ† Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
Ø§Ù„Ù…Ù„Ù: admin-dashboard.js Ùˆ owner-dashboard.js
Ø£Ø¶Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¯ÙˆØ§Ù„ ÙÙŠ Ù‚Ø³Ù… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡:

javascript
// Ø¯Ø§Ù„Ø© Ù…Ø­Ø³Ù†Ø© Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
handleApiError(error, context) {
    console.error(`âŒ Error in ${context}:`, error);
    
    let userMessage = 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹';
    
    if (error.name === 'TypeError' && error.message.includes('fetch')) {
        userMessage = 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.';
    } else if (error.response) {
        // Ø®Ø·Ø£ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…
        switch(error.response.status) {
            case 401:
                userMessage = 'Ø§Ù†ØªÙ‡Øª Ø¬Ù„Ø³ØªÙƒ. ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';
                this.handleAuthError();
                return;
            case 403:
                userMessage = 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„Ù‚ÙŠØ§Ù… Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡.';
                break;
            case 404:
                userMessage = 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.';
                break;
            case 500:
                userMessage = 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.';
                break;
            default:
                userMessage = error.response.data?.message || `Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù… (${error.response.status})`;
        }
    } else if (error.request) {
        userMessage = 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø´Ø¨ÙƒØ©.';
    }
    
    this.showAlert(`âŒ ${userMessage}`, 'danger');
    
    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø·Ø£ Ù„Ù„ØªØµØ­ÙŠØ­
    this.logError({
        context: context,
        error: error.message,
        timestamp: new Date().toISOString(),
        user: this.currentUser?.username
    });
}

// Ø¯Ø§Ù„Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
logError(errorData) {
    // ÙŠÙ…ÙƒÙ† Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ù„Ø®Ø¯Ù…Ø© Ù…Ø±Ø§Ù‚Ø¨Ø© Ø£Ùˆ Ø­ÙØ¸Ù‡Ø§ Ù…Ø­Ù„ÙŠØ§Ù‹
    if (process.env.NODE_ENV === 'development') {
        console.log('ğŸ“ Error Log:', errorData);
    }
    
    // Ø­ÙØ¸ ÙÙŠ localStorage Ù„Ù„ØªØµØ­ÙŠØ­
    const errorLogs = JSON.parse(localStorage.getItem('errorLogs') || '[]');
    errorLogs.push(errorData);
    if (errorLogs.length > 100) errorLogs.shift(); // Ø­ÙØ¸ Ø¢Ø®Ø± 100 Ø®Ø·Ø£ ÙÙ‚Ø·
    localStorage.setItem('errorLogs', JSON.stringify(errorLogs));
}

// Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø­Ø³Ù† ÙÙŠ Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
async function loadPitchesWithRetry() {
    const maxRetries = 3;
    let retries = 0;
    
    while (retries < maxRetries) {
        try {
            await adminSystem.loadPitches();
            break; // Ù†Ø¬Ø­ØŒ Ù†Ø®Ø±Ø¬ Ù…Ù† Ø§Ù„Ø­Ù„Ù‚Ø©
        } catch (error) {
            retries++;
            if (retries === maxRetries) {
                adminSystem.handleApiError(error, 'loadPitches');
            } else {
                console.log(`ğŸ”„ Retry ${retries}/${maxRetries} for loadPitches`);
                await new Promise(resolve => setTimeout(resolve, 1000 * retries)); // Ø§Ù†ØªØ¸Ø§Ø± ØªØµØ§Ø¹Ø¯ÙŠ
            }
        }
    }
}
5. ğŸ“‹ ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ù€ APIs Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù: api-endpoints.md
markdown
# ğŸ“¡ API Endpoints Documentation

## ğŸ” Authentication
- `POST /api/login` - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
- `GET /api/current-user` - Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
- `POST /api/logout` - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬

## ğŸŸï¸ Stadiums Management
- `GET /api/stadiums` - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„Ø§Ø¹Ø¨ (Ù„Ù„Ø£Ø¯Ù…Ù†)
- `GET /api/owner/stadiums` - Ù…Ù„Ø§Ø¹Ø¨ Ø§Ù„Ù…Ø¯ÙŠØ±
- `POST /api/stadiums` - Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø¹Ø¨ Ø¬Ø¯ÙŠØ¯
- `PUT /api/stadiums/:id` - ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù„Ø¹Ø¨
- `DELETE /api/stadiums/:id` - Ø­Ø°Ù Ù…Ù„Ø¹Ø¨

## ğŸ“… Bookings Management
- `GET /api/bookings` - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª (Ù„Ù„Ø£Ø¯Ù…Ù†)
- `GET /api/owner/bookings` - Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ø¯ÙŠØ±
- `POST /api/owner/bookings/:id/confirm` - ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²
- `POST /api/owner/bookings/:id/cancel` - Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø­Ø¬Ø²

## ğŸ•’ Time Slots Management
- `GET /api/owner/time-slots/:stadium_id` - Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ù„Ø¹Ø¨
- `POST /api/time-slots/batch` - Ø¥Ø¶Ø§ÙØ© Ø³Ø§Ø¹Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
- `PUT /api/time-slots/:id` - ØªØ­Ø¯ÙŠØ« Ø³Ø§Ø¹Ø©
- `DELETE /api/time-slots/:id` - Ø­Ø°Ù Ø³Ø§Ø¹Ø©

## ğŸ‘¥ Users Management
- `GET /api/users` - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- `PUT /api/users/:id/approve` - ØªÙØ¹ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù…
- `PUT /api/users/:id/status` - ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

## ğŸ’° Payments
- `GET /api/payments` - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
- `GET /api/owner/payments` - Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø¯ÙŠØ±

## ğŸ“Š Reports & Export
- `POST /api/admin-reports/generate` - Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ±
- `GET /api/export/:type/pdf` - ØªØµØ¯ÙŠØ± PDF
- `POST /api/export/excel` - ØªØµØ¯ÙŠØ± Excel
6. ğŸ§ª Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©
Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù: admin-system.test.js
javascript
// Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„Ù†Ø¸Ø§Ù…
describe('Admin Management System', () => {
    let adminSystem;

    beforeEach(() => {
        adminSystem = new AdminManagementSystem();
    });

    test('should initialize with correct default values', () => {
        expect(adminSystem.userRole).toBe('admin');
        expect(adminSystem.allBookings).toEqual([]);
        expect(adminSystem.allPitches).toEqual([]);
    });

    test('should generate correct status badge classes', () => {
        expect(adminSystem.getStatusBadgeClass('confirmed')).toBe('bg-success');
        expect(adminSystem.getStatusBadgeClass('pending')).toBe('bg-warning');
        expect(adminSystem.getStatusBadgeClass('cancelled')).toBe('bg-danger');
    });

    test('should handle authentication errors correctly', () => {
        const mockError = { 
            response: { status: 401 },
            message: 'Unauthorized' 
        };
        
        adminSystem.handleApiError(mockError, 'test');
        // ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù„ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
    });
});

// Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
describe('UI Components', () => {
    test('should show loading state correctly', () => {
        document.body.innerHTML = '<div id="testContainer"></div>';
        adminSystem.showLoading('testContainer', 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...');
        
        expect(document.getElementById('testContainer').innerHTML).toContain('loading-spinner');
    });

    test('should show alerts correctly', () => {
        adminSystem.showAlert('Test message', 'success');
        expect(document.getElementById('alertsContainer').innerHTML).toContain('Test message');
    });
});
ğŸ¯ Ø®Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ°:
Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø£ÙˆÙ„:
Ø¥ÙƒÙ…Ø§Ù„ Ø¯ÙˆØ§Ù„ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø§Ø¹Ø§Øª (2 Ø³Ø§Ø¹Ø©)

ØªØ­Ø³ÙŠÙ† Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ (3 Ø³Ø§Ø¹Ø§Øª)

Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ:
Ø¥ÙƒÙ…Ø§Ù„ Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± (4 Ø³Ø§Ø¹Ø§Øª)

ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ù€ APIs (2 Ø³Ø§Ø¹Ø©)

Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø«Ø§Ù„Ø«:
Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª (3 Ø³Ø§Ø¹Ø§Øª)

Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© (2 Ø³Ø§Ø¹Ø©)

Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù‚Ø¯Ø±: 16 Ø³Ø§Ø¹Ø© Ø¹Ù…Ù„

ÙƒÙ„ Ù‡Ø°Ù‡ Ø§Ù„Ù†Ù‚Ø§Ø· Ø³ØªØ¬Ø¹Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø²Ø§Ù‹ 100% Ù„Ù„Ø¥Ù†ØªØ§Ø¬ Ø¨Ù…Ø³ØªÙˆÙ‰ Ø§Ø­ØªØ±Ø§ÙÙŠ! ğŸš€

âŒ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø© Ù…Ù† Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù‚Ø¯ÙŠÙ…:
1. Ø¯ÙˆØ§Ù„ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© âŒ
javascript
// ğŸ“ Ø§Ù„Ù…Ù„Ù: admin-dashboard.js
// âŒ Ù†Ø§Ù‚ØµØ© ØªÙ…Ø§Ù…Ø§Ù‹

// ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² Ù…Ø¹ Ø®ØµÙ…
async function confirmBookingWithDiscount(bookingId, discountAmount) {
    try {
        const response = await fetch(`/api/bookings/${bookingId}/confirm-with-discount`, {
            method: 'POST',
            headers: this.getAuthHeaders(),
            body: JSON.stringify({ discount_amount: discountAmount })
        });
        if (response.ok) {
            this.showAlert('ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² Ù…Ø¹ Ø§Ù„Ø®ØµÙ…', 'success');
            this.loadBookings();
        }
    } catch (error) {
        this.handleApiError(error, 'confirmBookingWithDiscount');
    }
}

// Ø¥Ø¹Ø§Ø¯Ø© Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø­Ø¬Ø²
async function rescheduleBooking(bookingId, newDate, newTime) {
    try {
        const response = await fetch(`/api/bookings/${bookingId}/reschedule`, {
            method: 'PUT',
            headers: this.getAuthHeaders(),
            body: JSON.stringify({ 
                new_date: newDate, 
                new_time: newTime 
            })
        });
        if (response.ok) {
            this.showAlert('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø­Ø¬Ø²', 'success');
            this.loadBookings();
        }
    } catch (error) {
        this.handleApiError(error, 'rescheduleBooking');
    }
}
2. Ø¯ÙˆØ§Ù„ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª ÙˆØ§Ù„Ø£ÙƒÙˆØ§Ø¯ âŒ
javascript
// ğŸ“ Ø§Ù„Ù…Ù„Ù: admin-dashboard.js
// âŒ Ù†Ø§Ù‚ØµØ© ØªÙ…Ø§Ù…Ø§Ù‹

// Ø¥Ù†Ø´Ø§Ø¡ ÙƒÙˆØ¯ Ø®ØµÙ… Ø¬Ø¯ÙŠØ¯
async function createDiscountCode(codeData) {
    try {
        const response = await fetch('/api/discount-codes', {
            method: 'POST',
            headers: this.getAuthHeaders(),
            body: JSON.stringify(codeData)
        });
        if (response.ok) {
            this.showAlert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ… Ø¨Ù†Ø¬Ø§Ø­', 'success');
        }
    } catch (error) {
        this.handleApiError(error, 'createDiscountCode');
    }
}

// Ø¥Ø¯Ø§Ø±Ø© Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø®ØµÙ…
async function loadDiscountCodes() {
    try {
        const response = await fetch('/api/discount-codes', {
            headers: this.getAuthHeaders()
        });
        if (response.ok) {
            const result = await response.json();
            this.discountCodes = result.codes || [];
            this.updateDiscountCodesTable();
        }
    } catch (error) {
        this.handleApiError(error, 'loadDiscountCodes');
    }
}

// ØªØ­Ø¯ÙŠØ« ÙƒÙˆØ¯ Ø®ØµÙ…
async function updateDiscountCode(codeId, updateData) {
    try {
        const response = await fetch(`/api/discount-codes/${codeId}`, {
            method: 'PUT',
            headers: this.getAuthHeaders(),
            body: JSON.stringify(updateData)
        });
        if (response.ok) {
            this.showAlert('ØªÙ… ØªØ­Ø¯ÙŠØ« ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…', 'success');
            this.loadDiscountCodes();
        }
    } catch (error) {
        this.handleApiError(error, 'updateDiscountCode');
    }
}
3. Ø¯ÙˆØ§Ù„ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ© âŒ
javascript
// ğŸ“ Ø§Ù„Ù…Ù„Ù: admin-dashboard.js
// âŒ Ù†Ø§Ù‚ØµØ© ØªÙ…Ø§Ù…Ø§Ù‹

// Ø­Ø°Ù Ø­Ø¬ÙˆØ²Ø§Øª Ø¬Ù…Ø§Ø¹ÙŠ
async function bulkDeleteBookings(bookingIds) {
    try {
        const response = await fetch('/api/bookings/bulk-delete', {
            method: 'POST',
            headers: this.getAuthHeaders(),
            body: JSON.stringify({ booking_ids: bookingIds })
        });
        if (response.ok) {
            this.showAlert(`ØªÙ… Ø­Ø°Ù ${bookingIds.length} Ø­Ø¬Ø²`, 'success');
            this.loadBookings();
        }
    } catch (error) {
        this.handleApiError(error, 'bulkDeleteBookings');
    }
}

// ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø­Ø¬ÙˆØ²Ø§Øª Ø¬Ù…Ø§Ø¹ÙŠ
async function bulkUpdateBookingStatus(bookingIds, newStatus) {
    try {
        const response = await fetch('/api/bookings/bulk-update-status', {
            method: 'PUT',
            headers: this.getAuthHeaders(),
            body: JSON.stringify({ 
                booking_ids: bookingIds, 
                new_status: newStatus 
            })
        });
        if (response.ok) {
            this.showAlert(`ØªÙ… ØªØ­Ø¯ÙŠØ« ${bookingIds.length} Ø­Ø¬Ø²`, 'success');
            this.loadBookings();
        }
    } catch (error) {
        this.handleApiError(error, 'bulkUpdateBookingStatus');
    }
}
4. Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© âŒ
javascript
// ğŸ“ Ø§Ù„Ù…Ù„Ù: admin-dashboard.js
// âŒ Ù†Ø§Ù‚ØµØ© ØªÙ…Ø§Ù…Ø§Ù‹

// Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„ÙŠÙˆÙ…ÙŠ
async function loadDailyPerformanceStats(date) {
    try {
        const response = await fetch(`/api/stats/daily-performance?date=${date}`, {
            headers: this.getAuthHeaders()
        });
        if (response.ok) {
            const result = await response.json();
            this.dailyStats = result.stats || {};
            this.updateDailyPerformanceChart();
        }
    } catch (error) {
        this.handleApiError(error, 'loadDailyPerformanceStats');
    }
}

// ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠ
async function generateRevenueReport(startDate, endDate, groupBy = 'daily') {
    try {
        const response = await fetch('/api/reports/revenue-detailed', {
            method: 'POST',
            headers: this.getAuthHeaders(),
            body: JSON.stringify({
                start_date: startDate,
                end_date: endDate,
                group_by: groupBy
            })
        });
        if (response.ok) {
            const result = await response.json();
            this.revenueReport = result.report || {};
            this.displayRevenueReport();
        }
    } catch (error) {
        this.handleApiError(error, 'generateRevenueReport');
    }
}
5. Ø¯ÙˆØ§Ù„ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© âŒ
javascript
// ğŸ“ Ø§Ù„Ù…Ù„Ù: admin-dashboard.js
// âŒ Ù†Ø§Ù‚ØµØ© ØªÙ…Ø§Ù…Ø§Ù‹

// Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¬Ù…Ø§Ø¹ÙŠØ©
async function sendBulkNotification(notificationData) {
    try {
        const response = await fetch('/api/notifications/bulk-send', {
            method: 'POST',
            headers: this.getAuthHeaders(),
            body: JSON.stringify(notificationData)
        });
        if (response.ok) {
            this.showAlert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©', 'success');
            this.loadNotifications();
        }
    } catch (error) {
        this.handleApiError(error, 'sendBulkNotification');
    }
}

// Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
async function loadNotificationTemplates() {
    try {
        const response = await fetch('/api/notification-templates', {
            headers: this.getAuthHeaders()
        });
        if (response.ok) {
            const result = await response.json();
            this.notificationTemplates = result.templates || [];
            this.updateNotificationTemplates();
        }
    } catch (error) {
        this.handleApiError(error, 'loadNotificationTemplates');
    }
}
6. Ø¯ÙˆØ§Ù„ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙˆØ§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø© âŒ
javascript
// ğŸ“ Ø§Ù„Ù…Ù„Ù: admin-dashboard.js
// âŒ Ù†Ø§Ù‚ØµØ© ØªÙ…Ø§Ù…Ø§Ù‹

// Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
async function createBackup() {
    try {
        this.showAlert('Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©...', 'info');
        const response = await fetch('/api/backup/create', {
            method: 'POST',
            headers: this.getAuthHeaders()
        });
        if (response.ok) {
            const result = await response.json();
            this.showAlert(`ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©: ${result.backup_file}`, 'success');
        }
    } catch (error) {
        this.handleApiError(error, 'createBackup');
    }
}

// Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
async function restoreBackup(backupFile) {
    try {
        if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù‡Ø°Ù‡ Ø§Ù„Ù†Ø³Ø®Ø©ØŸ Ø³ÙŠØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©.')) {
            return;
        }
        
        const response = await fetch('/api/backup/restore', {
            method: 'POST',
            headers: this.getAuthHeaders(),
            body: JSON.stringify({ backup_file: backupFile })
        });
        if (response.ok) {
            this.showAlert('ØªÙ… Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­', 'success');
            setTimeout(() => {
                location.reload(); // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
            }, 2000);
        }
    } catch (error) {
        this.handleApiError(error, 'restoreBackup');
    }
}
ğŸ“Š Ù…Ù„Ø®Øµ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù†Ø§Ù‚ØµØ©:
Ø§Ù„Ù†ÙˆØ¹	Ø¹Ø¯Ø¯ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù†Ø§Ù‚ØµØ©	Ø§Ù„Ø£Ù‡Ù…ÙŠØ©
Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©	4 Ø¯ÙˆØ§Ù„	ğŸŸ¡ Ù…ØªÙˆØ³Ø·Ø©
Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª	3 Ø¯ÙˆØ§Ù„	ğŸŸ¢ Ù…Ù‡Ù…Ø©
Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø¬Ù…Ø§Ø¹ÙŠØ©	2 Ø¯ÙˆØ§Ù„	ğŸŸ¡ Ù…ØªÙˆØ³Ø·Ø©
Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©	2 Ø¯ÙˆØ§Ù„	ğŸŸ¢ Ù…Ù‡Ù…Ø©
Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©	2 Ø¯ÙˆØ§Ù„	ğŸ”´ Ù…Ù†Ø®ÙØ¶Ø©
Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ	2 Ø¯ÙˆØ§Ù„	ğŸŸ¢ Ù…Ù‡Ù…Ø©
ğŸ¯ Ø§Ù„ØªÙˆØµÙŠØ©:
Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ù‡Ù…Ø© ÙˆØ§Ù„Ø¶Ø±ÙˆØ±ÙŠØ© Ø§Ù„ØªÙŠ ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØªÙ‡Ø§ ÙÙˆØ±Ø§Ù‹:
Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª - Ø¶Ø±ÙˆØ±ÙŠØ© Ù„Ù„ØªØ¬Ø§Ø±Ø©

Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ - Ø¶Ø±ÙˆØ±ÙŠØ© Ù„Ù„Ø£Ù…Ø§Ù†

Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© - Ù…Ù‡Ù…Ø© Ù„Ø§ØªØ®Ø§Ø° Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª

Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ† ØªØ£Ø¬ÙŠÙ„Ù‡Ø§:
Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©

Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ© (ÙŠÙ…ÙƒÙ† ØªØ¹ÙˆÙŠØ¶Ù‡Ø§ Ø¨Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„ÙØ±Ø¯ÙŠØ©)

Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ù‚Ø¯Ø± Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ù‡Ù…Ø©: 8-10 Ø³Ø§Ø¹Ø§Øª Ø¹Ù…Ù„

Ù‡Ù„ ØªØ±ÙŠØ¯Ù†ÙŠ Ø£Ù† Ø£ÙƒÙ…Ù„ ÙƒØªØ§Ø¨Ø© Ù‡Ø°Ù‡ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù†Ø§Ù‚ØµØ©ØŸ
